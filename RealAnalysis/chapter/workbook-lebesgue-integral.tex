
\section{Definition of Lebesgue Integral}

\begin{exercise}{}{exer:lebesgue-integral-is-zero}
  Suppose $m (E) > 0$, $f \in L(E)$, $f$ is non-negative and $\int_E f(x)\mathrm{d} x = 0$.
  Prove that $f(x) = 0$ a.e.
\end{exercise}

\begin{proof}
  Define $E_n = \{x \in E: f(x) \geq \frac{1}{n}\}$,
  then since $f$ is non-negative, we have
  \begin{equation}
    \int_{E_n} f(x)\mathrm{d} x \leq \int_E f(x)\mathrm{d} x = 0
    \quad
    \text{and}
    \quad
    \int_{E_n} f(x) \mathrm{d} x \geq \frac{1}{n} m(E_n).
  \end{equation}
  Thus we know $m(E_n) = 0$ for all $n \geq 1$.
  On the other hand, by sub-additivity of measure
  \begin{equation}
    \{x \in E: f(x) \neq 0\} = \cup_{n = 1}^{\infty} E_n
    \Rightarrow
    m(\{f \neq 0\}) \leq \sum_{n = 1}^{\infty} m(E_n).
  \end{equation}
  So $m(\{f \neq 0\}) = 0$, i.e., $f(x) = 0$ a.e.
\end{proof}

\begin{exercise}{}{}
  $m (E) \neq 0$, $f \in L(E)$, for any measurable function $\varphi(x)$,
  $\int_E f(x)\varphi(x)\mathrm{d} x = 0$. Prove that $f(x) = 0$ a.e. in $E$.
\end{exercise}

\begin{proof}
  For any $n \in \mathbb{Z}^+$. Define $E_n := \{x \in E: f(x) \geq \frac{1}{n}\}$.
  Then
  \begin{equation}
    0 \leq \frac{1}{n} m(E_n) \leq \int_{E_n} f(x)\mathrm{d} x = \int_E \chi_{E_n}(x) f(x)\mathrm{d} x = 0,
  \end{equation}
  thus $m(E_n) = 0$.
  We get $m(\{f > 0\}) = m(\cup_{n=1}^{+\infty} E_n) = 0$, similarly we can prove $m(\{f < 0\}) = 0$.
\end{proof}

\begin{exercise}{}{}
  Let $E$ be a measurable set with finite measure, and $f$ be a measurable function.
  Define $E_n = \{n - 1 \leq f < n\}$, where $n \in \mathbb{Z}$.
  Prove that $f$ is Lebesgue integrable if and only if
  \begin{equation}
    \sum\limits_{- \infty}^{+\infty} |n| \cdot m(E_n) < +\infty.
  \end{equation}
\end{exercise}

\begin{proof}
  When $n \geq 1$, according to the definition of Lebesgue integral,
  \begin{equation}
    |n| \cdot m(E_n) = \int_{E_n} n \mathrm{d} x \geq \int_{E_n} |f(x)| \mathrm{d}x
    > |n-1| \cdot m(E_n).
  \end{equation}
  Similarly, when $n < 1$,
  \begin{equation}
    |n - 1| \cdot m(E_n) = (1-n) \cdot m(E_n) \geq \int_{E_n} |f(x)|\mathrm{d}x
    > |n|\cdot m(E_n).
  \end{equation}

  Since $f$ is Lebesgue integrable, then $|f|$ is integrable,
  \begin{align}
    +\infty > \int_E |f|\mathrm{d} x
    &= \sum\limits_{n = 1}^{+\infty} \int_{E_n} |f|\mathrm{d}x + \sum\limits_{n = 0}^{-\infty} \int_{E_n}|f|\mathrm{d}x\\
    &> \sum\limits_{n = 1}^{+\infty} |n-1| \cdot m(E_n)
    + \sum\limits_{n = 0}^{-\infty} |n| \cdot m(E_n)\\
    &= \sum\limits_{n = -\infty}^{+\infty} |n| \cdot m(E_n) - \sum\limits_{n = 1}^{+\infty} m(E_n),
  \end{align}
  here, $\sum\limits_{n = 1}^{\infty} m(E_n) = m(\{f \geq 1\}) < \infty$.
  Therefore the conclusion holds.
\end{proof}

\begin{exercise}{}{}
  If $f \in L([a, b])$. Prove that for any $\epsilon > 0$, there exists a
  (1) measurable and bounded;
  (2) continuous;
  (3) polynomial;
  (4) step function
  $g(x)$ such that
  \begin{equation}
    \int_a^b |f(x) - g(x)| \mathrm{d} x < \epsilon.
  \end{equation}
\end{exercise}

\begin{proof}
  (1) Given $M > 0$, take
  \begin{equation}
    g(x) =
    \begin{cases}
      f(x) & |f(x)| \leq M; \\
      M\cdot \operatorname{sgn}(f(x)) & |f(x)| > M.
    \end{cases}
  \end{equation}
  $f(x) \in L([a,b])$ indicates $f$ is finite a.e.,
  then $\int_a^b |f-g|\mathrm{d} x \leq \int_{\{|f| > M\}} (|f| + M) \mathrm{d} x < \epsilon$.

  (2) Use Lusin theorem
\end{proof}

\section{Absolute Continuity of Lebesgue Integral}

\begin{exercise}{}{}
  Let $E$ be a measurable set, $f \in L(E)$, $e_n := \{|f| \geq n\}$,
  prove that $\lim \limits _{n \rightarrow \infty} n \cdot m(e_n) = 0$.
\end{exercise}

\begin{proof}
  According to the definition of Lebesgue integral of non-negative simple
  functions we have
  \begin{equation}
    n \cdot m(e_n) = \int_{e_n} n \mathrm{d} x \leq \int_{e_n} |f(x)|\mathrm{d} x.
  \end{equation}
  It is not hard to see that $e_n$ is monotonically decreasing,
  and since $f$ is finite a.e., then
  \begin{equation}
    m(\lim \limits _{n \rightarrow \infty} e_n)
    = m(\lim \limits _{n \rightarrow \infty} \{|f| \geq n\}) = 0
  \end{equation}
  which means $\forall \delta > 0, \exists N > 0, \forall n > N$, $m(e_n) < \delta$.
  Then according to the absolute continuity of Lebesgue integral
  \begin{equation}
    \forall \epsilon > 0, \exists \delta > 0, \exists A \subset E, m(A) < \delta,
    \int_A |f(x)|\mathrm{d} x < \epsilon.
  \end{equation}
  Combining the above two equations yields $n\cdot m(e_n) < \epsilon$,
  so it converges to $0$.
\end{proof}

\section{Fatou's Theorem}

\begin{exercise}{}{}
  Let $\{f_n(x)\}$ be measurable functions, $\lim \limits _{n \rightarrow \infty} f_n(x) = f(x)$ a.e.
  Prove that there exists $K$ such that $\int_E |f_n(x)| \mathrm{d} x \leq K$.
\end{exercise}

\begin{proof}
  Since $\lim \limits _{n \rightarrow \infty} f_n(x) = f(x)$ a.e.,
  $\lim \limits _{n \rightarrow \infty} |f_n(x)| = f(x)$ a.e.
  Consider the Lebesgue integral of $|f(x)|$, by Fatou theorem
  \begin{equation}
    \int_E |f(x)|\mathrm{d} x = \int_E \lim \limits _{n \rightarrow \infty} |f_n(x)| \mathrm{d} x
    \leq \lim \limits _{n \rightarrow \infty} \int_E |f_n(x)|\mathrm{d} x \leq K < +\infty.
  \end{equation}
\end{proof}

\begin{exercise}{}{}
  Let $f_n$ be a sequence of non-negative measurable functions,
  $f_n \measconv f$. Prove that
  \begin{equation}
    \int_E f(x) \mathrm{d} x \leq \liminf _{n \rightarrow \infty} \int_E f_n(x)\mathrm{d} x.
  \end{equation}
\end{exercise}

\begin{proof}
  By Riesz theorem, there exists a subsequence $f_{n_k} \aeconv f$.
  By Fatou's theorem,
  \begin{equation}
    \int_E f(x)\mathrm{d} x \leq \liminf_{k \rightarrow \infty} \int_E f_{n_k}(x)\mathrm{d} x.
  \end{equation}
  It is not hard to see that
  $\liminf_{k \rightarrow \infty} \int_E f_{n_k}\mathrm{d} x \leq \liminf_{n \rightarrow \infty} \int_E f_n \mathrm{d} x$,
  which implies the conclusion.
\end{proof}

\begin{exercise}{}{}
  Let $f_n(x)$ be measurable functions, $f(x)$ be non-negative Lebesgue integrable,
  $|f_n(x)| \leq f(x)$ a.e. in $E$. Prove that
  \begin{equation}
    \int_E \liminf_{n \rightarrow \infty} f_n(x) \mathrm{d} x \leq \liminf _{n \rightarrow \infty} \int_E f_n(x)\mathrm{d} x.
  \end{equation}
\end{exercise}

\begin{proof}
  Consider $g_n(x) = f(x) + f_n(x)$, then $g_n(x)$ is non-negative measurable functions.
  Then by Fatou theorem
  \begin{equation}
    \int_E \liminf_{n \rightarrow \infty} f + f_n \mathrm{d} x
    \leq \liminf_{n \rightarrow \infty} \int_E f + f_n \mathrm{d} x.
  \end{equation}
  Cancel $\int_E f(x)\mathrm{d} x$ from both sides, then we get the conclusion.
\end{proof}



\section{Lebesgue's Dominated Convergence Theorem}

\begin{exercise}{}{}
  If $f \in L(E)$, prove that
  \begin{equation}
    \lim \limits _{k \rightarrow \infty} k \cdot m(\{|f| > k\}) = 0.
  \end{equation}
\end{exercise}

\begin{proof}
  Define $E_k := \{x \in E: |f| > k\}$, and $f_k := |f| \cdot \chi_{E_k}$.
  Then It is not hard to see that $|f_k| \leq |f|$.
  Since $|f| \in L(E)$, then $|f|$ is finite a.e. in $E$,
  thus $\lim \limits _{k \rightarrow \infty} f_k = 0$ a.e.
  Then
  \begin{equation}
    k \cdot m(E_k) \leq \int_{E_k} |f| \mathrm{d} x = \int_E f_k \mathrm{d} x.
  \end{equation}
  Taking $k \rightarrow \infty$ and applying LDCT,
  we get that $\lim \limits _{k \rightarrow \infty} \int_E f_k \mathrm{d} x$ exists and the limit is $0$.
\end{proof}





