
\section{Lebesgue Measure and Measurable Sets}

\subsection{Lebesgue Outer Measure}

\begin{definition}{Lebesgue Outer Measure}{}
  For every subset $E$ of the set of real numbers,
  let $\{I_n\}$ be any sequence of open intervals satisfying
  $E \subset \cup _{n = 1}^{\infty} I_n$. Then we say
  \begin{equation}
    m^{\ast} (E) = \inf_{\{I_n\}} \left\{\sum_{n = 1}^{\infty} \ell(I_n)\right\}
  \end{equation}
  the \emph{lebesgue outer measure of $E$},
  where $\ell(I_n)$ is the length of the interval $I_n$.
\end{definition}


\begin{proposition}{Countable Sub-Additivity}{}
  If $\{E_n\}$ is an arbitrary sequence of subsets of real numbers,
  then
  \begin{equation}
    m^{\ast} (\cup _{n = 1}^{\infty} E_n) \leq \sum _{n = 1}^{\infty} m^{\ast}(E_n).
  \end{equation}
\end{proposition}

\begin{proof}
  If $\sum_n m^{\ast}(E_n) = \infty$, then the conclusion holds naturally.
  Otherwise, for all $\epsilon > 0$, there exists $\{I_k^{(n)}\}$ such that
  $E_n \subset \cup_k I_k^{(n)}$ and
  \begin{equation}
    \sum \limits _k \ell(I_k^{(n)}) < m^{\ast}(E_n) + \frac{\epsilon}{2^n}.
  \end{equation}
  Since $\cup _n E_n \subset \cup _n \cup _k I_k^{(n)}$, then
  \begin{equation}
    m^{\ast}(\cup _n E_n)
    \leq \sum _n \sum _k \ell(I_k^{(n)})
    < \sum _n \left[ m^{\ast}(E_n) + \frac{\epsilon}{2^n} \right]
    = \sum _n m^{\ast}(E_n) + \epsilon.
  \end{equation}
  By the arbitrariness of $\epsilon$, the conclusion holds.
\end{proof}

\begin{example}{Properties of Lebesgue Outer Measure}{}
  \begin{enumerate}
  \item Let $E \subset [a, b]$, $E_x := [a, x] \cap E$ for $x \in [a, b]$.
    Prove that $f(x) := m^{\ast}(E_x)$ is continuous on $[a, b]$.
  \item Let $S_1,S_2$ be disjoint sets,
    $E_1 \subset S_2$, $E_2 \subset S_2$ respectively.
    Prove that 
    \begin{equation}
      m^{\ast}(E_1 \cup E_2) = m^{\ast}(E_1) + m^{\ast}(E_2).
    \end{equation}
  \end{enumerate}
\end{example}

\begin{solution}
  (1) Consider $x_1, x_2 \in [a, b]$, $x_2 > x_1$, then by sub-additivity,
  $m^{\ast}E_{x_2} \leq m^{\ast}\left( [a, x_1] \cap E \right) + m^{\ast} \left( (x_1, x_2] \cap E \right)$.
  Then
  \begin{equation}
    |f(x_2) - f(x_1)| = |m^{\ast}E_{x_2} - m^{\ast}E_{x_1}|
    \leq m^{\ast} \left[ (x_1, x_2] \cap E \right] \leq |x_2-x_1|.
  \end{equation}
  Therefore $f(x)$ is Lipschitz continuous and continuous.

  (2) We only have to prove $m^{\ast}(E_1 \cup E_2) \geq m^{\ast}(E_1) + m^{\ast}(E_2)$.
  Let $I_1,\cdots,I_n$ be a sequence of open intervals that covers $E_1 \cup E_2$.
  So
  \begin{equation}
    m^{\ast}(E_1 \cup E_2) + \epsilon \geq \sum_i \ell(I_i).
  \end{equation}
  Since $S_1, S_2$ are disjoint,
  we can split them into two groups $I_1^{(1)},\cdots,I_{n_1}^{(1)}$ and $I_1^{(2)},\cdots,I_{n_2}^{(2)}$
  that cover $E_1$ and $E_2$ respectively. Then
  \begin{equation}
    \sum_i \ell(I_i) = \sum_i \ell(I_i^{(1)}) + \sum_i \ell(I_i^{(2)})
    \geq m^{\ast}(E_1) + m^{\ast}(E_2).
  \end{equation}
  Combining the above equations yields
  \begin{equation}
    m^{\ast}(E_1 \cup E_2) + \epsilon \geq m^{\ast}(E_1) + m^{\ast}(E_2),
  \end{equation}
  taking $\epsilon \rightarrow 0$ implies the conclusion.
\end{solution}

\subsection{Lebesgue Measure}

\begin{definition}{Lebesgue Measurable Set}{}
  Let $E$ be a subset of real numbers.
  If for any subset $A$ of real numbers,
  \begin{equation}
    m^{\ast}(A) \geq m^{\ast}(A \cap E) + m^{\ast}(A \cap E^c).
  \end{equation}
  Then $E$ is said to be a \emph{lebesgue measurable set},
  and
  \begin{equation}
    m(E) := m^{\ast}(E)
  \end{equation}
  is said to be the \emph{measure of $E$}.
\end{definition}

\begin{example}{Practice on Lebesgue Measure}{}
  Prove the following statements:
  \begin{enumerate}
  \item If $m^{\ast}(E) = 0$, then $E$ is measurable and $m(E) = 0$;
  \item If $A$ is measurable, $m^{\ast}(B) < +\infty$, prove that
    $m^{\ast}(A \cup B) = m(A) + m^{\ast}(B) - m^{\ast}(A \cap B)$.
  \end{enumerate}
\end{example}

\begin{proof}
  (1) For any set of real number $A$,
  \begin{equation}
    0 \leq m^{\ast}(A \cap E) \leq m^{\ast}(E) = 0,
  \end{equation}
  thus $m^{\ast}(A \cap E) = 0$. On the other hand, $A \supset A \cap E^c$,
  then
  \begin{equation}
    m^{\ast}(A) \geq m^{\ast}(A \cap E^c) = m^{\ast}(A \cap E^c) + m^{\ast}(A \cap E),
  \end{equation}
  which implies that $E$ is measurable.
  Then we get $m(E) = 0$ since $m^{\ast}(E) = 0$ by definition.

  (2) By definition of Lebesgue measure, for any set $T$,
  $m^{\ast}(T) = m^{\ast}(A \cap T) + m^{\ast}(A^c \cap T)$.
  Let $T = A \cup B$,
  \begin{equation}
    m^{\ast}(A \cup B) = m^{\ast}(A \cap (A \cup B)) + m^{\ast}(A^c \cap (A \cup B))
    = m(A) + m^{\ast}(B - A).
  \end{equation}
  Again, let $T = B$,
  \begin{equation}
    m^{\ast}(B) = m^{\ast}(A \cap B) + m^{\ast}(B - A) \quad
    \Rightarrow \quad
    m^{\ast}(B - A) = m^{\ast}(B) - m^{\ast}(A \cap B).
  \end{equation}
  Combining the above two equations yields the conclusion.
\end{proof}

\begin{theorem}{Complement, Union and Intersection of Measurable Sets}{}
  Let $\{A_n\}_{n \geq 1}$ be a collection of measurable sets, then
  \begin{equation}
    A_n^c, \quad \cup _{n=1}^{+\infty} A_n, \quad \cap_{n=1}^{\infty} A_n, \quad
    \limsup \limits _{n \rightarrow \infty} A_n, \quad \liminf \limits_{n \rightarrow \infty} A_n
  \end{equation}
  are measurable sets.
\end{theorem}

\begin{theorem}{Countable Additivity}{}
  Let $\{A_n\}_{n \geq 1}$ be a sequence of pairwise-disjoint measurable sets, then
  \begin{equation}
    m(\cup _n A_n) = \sum\limits_n m(A_n).
  \end{equation}
\end{theorem}

\begin{example}{Applications of Countable Sub-Additivity}{}
  If $E$ is measurable, and for all interval $I \subset \mathbb{R}$, $m(E \cap I) = 0$.
  Prove that $m(E) = 0$.
\end{example}

\begin{proof}
  Note that $\mathbb{R} = \cup _{k = 1}^{+\infty} I_k$, where $I_k = (-k, k)$.
  Then
  \begin{equation}
    E = E \cap \mathbb{R} = E \cap (\cup _{k = 1}^{+\infty} I_k) = \cup _{k = 1}^{+\infty} (E \cap I_k).
  \end{equation}
  Then by sub-additivity we get $m(E) \leq \sum_k m(E \cap I_k) = 0$.
\end{proof}

\subsection{A Non-Measurable Set Example}

\begin{example}{Non-Measurable Example}{}
  For any $x \in [0, 1]$, define $E(x) := \{y \in [0, 1]: x - y \in \mathbb{Q}\}$.
  There exists $F \subseteq [0, 1]$ such that
  \begin{equation}
    \forall x \in [0, 1], F \cap E(x) \text{ contains exactly one element}.
  \end{equation}
  And this set $F$ is non-measurable.
\end{example}

\begin{proof}
  Choosing one representative from each $E(x)$ and forming $F$ deduce the existence.

  Define $\{r_n\} := \mathbb{Q} \cap [-1, 1]$, and $F_n = F + r_n$.
  We can get that
  (1)$\{F_n\}$ satisfies $F_m \cap F_n = \emptyset$ for $m \neq n$, since if not,
  there exists $x, y \in F$ such that
  \begin{equation}
    x + r_m = y + r_n \Rightarrow x - y \in \mathbb{Q},
  \end{equation}
  which contradicts the definition of $F$;
  (2) For any $z \in [0, 1]$, there exists $x \in F$ such that $z \in E(x)$.

  Now we prove $F$ is non-measurable. By $m(F_n) = m(F)$,
  \begin{equation}
    1 = m([0, 1]) \leq \sum\limits_{n = 1}^{\infty} m(F_n)
    = \sum\limits_{n = 1}^{\infty} m(F) \leq m([-1, 2]) = 3.
  \end{equation}
  If $m(F) > 0$, the sum diverges; if $m(F) = 0$, the total measure is $0$.
  Both cases contradict the equation.
\end{proof}

\subsection{Approximation by Open and Closed Sets}

\begin{theorem}{Approximation by Open Sets and Closed Sets}{}
  A set $E \subset \mathbb{R}$ is measurable if and only if one of the following propositions holds
  \begin{enumerate}
  \item For any $\epsilon > 0$, there exists an open set $G \supset E$ such that
    $m^{\ast}(G - E) < \epsilon$.
  \item For any $\epsilon > 0$, there exists a closed set $F \subset E$ such that
    $m^{\ast}(E - F) < \epsilon$.
  \end{enumerate}
\end{theorem}

\begin{proof}
  (1) Right-to-left: For any $n \geq 1$, there exists an open set $G_n \supset E$ such that
  $m^{\ast}(G_n - E) < \frac{1}{n}$.
  Let $G = \cap_n G_n$, then
  \begin{equation}
    G - E \subset G_n - E \Rightarrow m^{\ast}(G - E) \leq m^{\ast}(G_n - E) < \frac{1}{n}.
  \end{equation}
  Since the equation holds for all $n \geq 1$, then $m^{\ast}(G - E) = 0$.
  This means $G - E$ is measurable, so is $E = G - (G - E)$.

  Left-to-right: If $m(E) < \infty$, choose $G = \cup_n I_n$, where $E \subset \cup_n I_n$
  and $m(E) < \sum_n \ell(I_n) + \epsilon$.
  If $m(E) = \infty$, let $E_n = E \cap [n, n+1)$, and choose $G_n$ as
  \begin{equation}
    E_n \subset G_n, \quad m(G_n - E_n) < \frac{\epsilon}{2^{|n|}}.
  \end{equation}
  Take $G = \cup_n G_n$.

  (2) Right-to-left: For any $n \geq 1$, there exists a closed set $F_n \subset E$ such that
  $m^{\ast}(E - F_n) < \frac{1}{n}$. Choose $F = \cup_n F_n$, then
  \begin{equation}
    E - F \subset E - F_n \Rightarrow m^{\ast}(E - F) \leq m^{\ast}(E - F_n) < \frac{1}{n}.
  \end{equation}
  This means $m^{\ast}(E - F) = 0$, and $E - F$, $E$ are measurable.
\end{proof}

\begin{theorem}{The Squeeze Theorem for Measurable Sets}{}
  If there are two sequences of measurable sets $A_n$ and $B_n$ such that
  \begin{equation}
    A_n \subset E \subset B_n, \quad \lim \limits _{n \rightarrow \infty} m(B_n - A_n) = 0,
  \end{equation}
  then $E$ is measurable.
\end{theorem}

\begin{proof}
  Denote $B = \cap _n B_n$, then $E = B - (B - E)$.
  Since $B$ is measurable, we only need to prove $B - E$ is measurable.
  \begin{equation}
    B - E \subset B_n - E \subset B_n - A_n \Rightarrow m^{\ast}(B - E) \leq m^{\ast}(B_n - A_n) \rightarrow 0.
  \end{equation}
  Then $m^{\ast}(B - E) = 0$, which means $B - E$ is a zero-measure measurable set,
  and $E$ a measurable set.
\end{proof}

\section{$\sigma$-Algebra and Borel Set}

\begin{definition}{$\sigma$-Algebra}{}
  Let $X$ be a set. A collection $\mathcal{F}$ of subsets of $X$ is called a
  \emph{$\sigma$-algebra} if
  (1) $X \in \mathcal{F}$;
  (2) $\forall A \in \mathcal{F}$, $A^c \in \mathcal{F}$;
  (3) If $\{A_n\}_{n=1}^{\infty} \subset \mathcal{F}$, then $\cup _{n = 1}^{\infty} A_n \in \mathcal{F}$.
\end{definition}

\begin{definition}{Borel $\sigma$-Algebra and Borel Set}{}
  Let $X$ be a set,
  and let $\mathcal{T}$ denote the collection of open sets in $X$.
  The \emph{Borel $\sigma$-algebra $\mathcal{B}(X)$} is the smallest $\sigma$-algebra
  on $X$ that contains all open sets in $\mathcal{T}$.
  For any $B \in \sigma(\mathcal{T})$,
  we call $B$ a \emph{Borel set}.
\end{definition}




